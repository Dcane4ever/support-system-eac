# Production Configuration for Render/Cloud Deployment

# Application Name
spring.application.name=classroom-support-system

# Database Configuration - MySQL (Cloud)
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.format_sql=false

# Connection Pool Settings
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# Disable H2 Console in production
spring.h2.console.enabled=false

# Security Configuration
spring.security.user.name=${ADMIN_USERNAME:admin}
spring.security.user.password=${ADMIN_PASSWORD:admin123}

# Email Configuration - SendGrid
sendgrid.api.key=${SENDGRID_API_KEY}
sendgrid.from.email=${SENDGRID_FROM_EMAIL:carwashpimentel@gmail.com}
sendgrid.from.name=${SENDGRID_FROM_NAME:Classroom Support System}

# Application Base URL (for email links)
app.base.url=${APP_BASE_URL:https://classroom-support-system.onrender.com}

# Thymeleaf Configuration
spring.thymeleaf.cache=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# Server Configuration - NO SSL (Render provides HTTPS)
server.port=${PORT:8080}
server.error.include-message=always

# Disable SSL in production (Render handles it)
server.ssl.enabled=false

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Logging
logging.level.com.cusservice.bsit=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
