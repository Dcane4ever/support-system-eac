# Application Name
spring.application.name=classroom-support-system

# Database Configuration (MySQL)
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/classroom_support?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# H2 Console (for development/testing)
spring.h2.console.enabled=true

# SQL Initialization
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=never

# Security Configuration
spring.security.user.name=admin
spring.security.user.password=admin123

# Email Configuration - SendGrid
sendgrid.api.key=${SENDGRID_API_KEY:}
sendgrid.from.email=${SENDGRID_FROM_EMAIL:carwashpimentel@gmail.com}
sendgrid.from.name=${SENDGRID_FROM_NAME:Classroom Support System}

# Application Base URL (for email links)
app.base.url=${APP_BASE_URL:https://localhost:8443}

# Old Gmail SMTP (kept for reference - now disabled)
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=carwashpimentel@gmail.com
# spring.mail.password=iqay iitv owmv qmaw
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true
# spring.mail.properties.mail.smtp.starttls.required=true
# spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

# Thymeleaf Configuration
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# Server Configuration
server.port=8443
server.address=${SERVER_ADDRESS:0.0.0.0}
server.error.include-message=always

# SSL Configuration for HTTPS
server.ssl.enabled=true
server.ssl.key-store=classpath:keystore.p12
server.ssl.key-store-password=changeit
server.ssl.key-store-type=PKCS12
server.ssl.key-alias=customer-service

# Network Interface Configuration
# Defaults to 0.0.0.0 (all interfaces) but can be overridden via -Dserver.address=<IP>
# Example: java -jar -Dserver.address=192.168.1.2 customer-service-aims.jar

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Logging
logging.level.com.cusservice.bsit=DEBUG
logging.level.org.springframework.security=DEBUG
